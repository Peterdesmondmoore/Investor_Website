<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Private‑Credit Impulse — Methodology</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body{font-family:"Merriweather",serif}
    h1,h2,h3,h4{font-family:"Inter",sans-serif}
    .container{max-width:960px}
    .rule{height:1px;background:linear-gradient(90deg,#e5e7eb,transparent)}
    .smallcaps{font-variant-caps:all-small-caps;letter-spacing:.04em}
    @media print{nav,.screen-only{display:none!important} body{color:#000}}
    .eq{font-family:"Merriweather",serif;font-style:italic}
    .box{border:1px solid #e5e7eb;border-radius:.75rem;padding:1rem;background:#fafafa}
    code{background:#f6f8fa;padding:.15rem .35rem;border-radius:.35rem}
  </style>
</head>
<body class="bg-white text-slate-800">
  <nav class="screen-only border-b">
    <div class="container mx-auto px-5 py-3 flex items-center justify-between text-sm text-slate-600">
      <div class="smallcaps">Methodology White Paper</div>
      <div>Version 1.0</div>
    </div>
  </nav>

  <main class="container mx-auto px-5 py-10">
    <header class="mb-10">
      <h1 class="text-3xl md:text-4xl font-semibold text-slate-900">Private‑Credit Impulse</h1>
      <div class="mt-2 text-slate-600 text-sm">Composite signal tracking growth momentum in private credit creation using bank credit, business loans, and total consumer loans.</div>
    </header>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold text-slate-900 mb-3">Abstract</h2>
      <p class="leading-7">The Private‑Credit Impulse signal quantifies acceleration or deceleration in aggregate private‑sector credit growth. It blends six‑month annualised growth rates of total bank credit, commercial & industrial loans, and consumer loans. Each growth series is robust‑standardised and averaged to create a momentum composite that identifies <em>Accelerating</em>, <em>Stable</em>, and <em>Decelerating</em> credit regimes.</p>
    </section>

    <div class="rule mb-10"></div>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold mb-3">1. Data</h2>
      <ul class="list-disc pl-6 leading-7">
        <li><strong>TOTBKCR</strong> — Total Bank Credit, Level (FRED: <code>TOTBKCR</code>).</li>
        <li><strong>BUSLOANS</strong> — Commercial & Industrial Loans, All Commercial Banks (FRED: <code>BUSLOANS</code>).</li>
        <li><strong>TOTALSL</strong> — Total Consumer Loans Owned by Banks (FRED: <code>TOTALSL</code>).</li>
      </ul>
      <p class="mt-3 leading-7">All inputs are monthly levels in USD billions; resample and forward‑fill missing observations if required.</p>
    </section>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold mb-3">2. Growth‑Rate Transformation</h2>
      <p class="leading-7">To capture short‑term momentum, compute six‑month annualised growth:</p>
      <div class="box text-sm">
        <div class="eq">g_t = \left(\frac{X_t}{X_{t-6}}\right)^2 − 1</div>
      </div>
      <p class="text-sm text-slate-600 mt-2">This approximates the rate that would prevail if six‑month growth continued for a full year, doubling the observed half‑year change.</p>
    </section>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold mb-3">3. Normalisation</h2>
      <div class="box text-sm">
        <div class="eq">z\_{rob}(X)_t = \dfrac{X_t − \mathrm{median}(X)_{t,w}}{1.4826·\mathrm{MAD}(X)_{t,w}}</div>
        <div class="text-xs mt-2">with rolling window <span class="eq">w = 48</span> months (minimum 18). Median absolute deviation (MAD) provides robust scaling resistant to extreme episodes.</div>
      </div>
    </section>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold mb-3">4. Composite Construction</h2>
      <ol class="list-decimal pl-6 leading-7">
        <li>Compute <span class="eq">ann6</span> growth for each source.</li>
        <li>Apply <span class="eq">robust_z</span> to the growth series.</li>
        <li>Average the z‑scores across components:</li>
      </ol>
      <div class="box text-sm mt-2">
        <div class="eq">Private\_{Credit\_Impulse,t} = \tfrac{1}{3}\big(Z\_{TOTBKCR,t} + Z\_{BUSLOANS,t} + Z\_{TOTALSL,t}\big)</div>
      </div>
    </section>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold mb-3">5. Regime Mapping</h2>
      <div class="box text-sm">
        <div class="eq">If\ C_t > 0.75 → \textit{Accelerating};\quad |C_t| ≤ 0.75 → \textit{Stable};\quad C_t < −0.75 → \textit{Decelerating}</div>
      </div>
    </section>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold mb-3">6. Implementation (Python)</h2>
      <div class="box text-sm">
<pre><code>import pandas as pd
import numpy as np

def robust_z(s, win=48, min_win=18):
    x = pd.to_numeric(s, errors="coerce").astype(float)
    w = max(min_win, min(win, x.dropna().size))
    med = x.rolling(w, min_periods=min_win).median()
    mad = (x - med).abs().rolling(w, min_periods=min_win).median()
    return (x - med) / (1.4826 * mad.replace(0, np.nan))

def ann6(series):
    return (series / series.shift(6))**2 - 1.0

d = df_priv_credit.copy()

for col in ["TOTBKCR","BUSLOANS","TOTALSL"]:
    d[f"{col}_ann6"] = ann6(d[col])

zcols = []
for col in ["TOTBKCR_ann6","BUSLOANS_ann6","TOTALSL_ann6"]:
    z = robust_z(d[col])
    d[f"Z_{col}"] = z
    zcols.append(f"Z_{col}")

d["Private_Credit_Impulse"] = d[zcols].mean(axis=1)

hi, lo = 0.75, -0.75

def _regime(v):
    if pd.isna(v): return np.nan
    return "Accelerating" if v > hi else ("Decelerating" if v < lo else "Stable")

d["Credit_Impulse_Regime"] = d["Private_Credit_Impulse"].apply(_regime)

df_sig_priv_credit = d
display(df_sig_priv_credit.tail())
</code></pre>
      </div>
    </section>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold mb-3">7. Interpretation</h2>
      <ul class="list-disc pl-6 leading-7">
        <li><strong>Accelerating:</strong> rapid credit creation — often early‑cycle or liquidity‑driven expansions.</li>
        <li><strong>Stable:</strong> steady credit growth consistent with trend GDP expansion.</li>
        <li><strong>Decelerating:</strong> tightening credit supply or falling demand — leading indicator of slowdown.</li>
      </ul>
    </section>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold mb-3">8. Limitations</h2>
      <ul class="list-disc pl-6 leading-7">
        <li>Data revisions are frequent in bank‑level series; lagging updates may distort recent momentum.</li>
        <li>Structural changes (e.g., accounting rules, loan‑sale adjustments) can create artificial swings.</li>
        <li>Fixed ±0.75 thresholds are heuristic; calibration to macro phases may enhance accuracy.</li>
      </ul>
    </section>

    <footer class="text-sm text-slate-500 border-t pt-6">© 2025. Methodology reference for the Private‑Credit Impulse signal.</footer>
  </main>
</body>
</html>
