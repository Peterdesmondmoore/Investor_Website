<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cross-Sector Positioning ‚Äì Signal Report</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">

  <style>
    body { background:#f1f5f9; margin:0; font-family:Merriweather,serif; color:#0f172a; }
    h1,h2,h3 { font-family:Inter,sans-serif; }
    .container { max-width:960px; margin:0 auto; padding:24px; }
    nav { position:sticky; top:0; background:rgba(255,255,255,.9); backdrop-filter:blur(12px); border-bottom:1px solid #e5e7eb; }
    .nav-inner { max-width:960px; margin:0 auto; padding:8px 24px; display:flex; justify-content:space-between; font-size:.8rem; color:#64748b; }
    .home-link { font-size:.75rem; text-decoration:none; padding:4px 12px; border-radius:999px; border:1px solid #e5e7eb; color:#475569; }
    .home-link:hover { background:#f1f5f9; }
    .page-header { margin:28px 0; display:flex; flex-direction:column; gap:12px; }
    @media (min-width:768px){ .page-header{flex-direction:row; justify-content:space-between;} }
    .rule { height:1px; background:linear-gradient(90deg,#e5e7eb,transparent); border:0; margin:20px 0; }
    .box { border:1px solid #e5e7eb; border-radius:12px; background:#fff; padding:16px; }
    .section { margin-bottom:32px; }
    .expand-summary { cursor:pointer; font-weight:600; display:flex; justify-content:space-between; }
    .chevron { transition:transform .2s ease; }
    details[open] .chevron { transform:rotate(90deg); }
    .expand-inner { margin-top:12px; border-top:1px solid #e5e7eb; padding-top:12px; max-height:70vh; overflow:auto; }
    .table-inner table { width:100%; border-collapse:collapse; }
    .table-inner th, .table-inner td { padding:4px 6px; border-bottom:1px solid #e5e7eb; }
  </style>
</head>
<body>
<nav>
  <div class="nav-inner">
    <div>Cross-Sector Positioning ‚Äì signal</div>
    <a class="home-link" href="https://sensational-stroopwafel-d10a4c.netlify.app/">‚Üê Back to home</a>
  </div>
</nav>

<main class="container">
  <header class="page-header">
    <div>
      <p style="text-transform:uppercase; font-size:.7rem; color:#94a3b8; letter-spacing:.18em;">Macro Signal</p>
      <h1>Cross-Sector Positioning</h1>
      <p class="subtitle">CoT sector positioning vs history.</p>
    </div>
    <div style="font-size:.7rem; color:#94a3b8;">
      <div>As of 2025-10-07</div>
      
    </div>
  </header>

  <hr class="rule" />

  <section class="section">
  <h2 class="section-title">Gemini Summary</h2>
  <div class="box summary-box"><div class="market-report">
    <p><strong>State of the Market Summary:</strong></p>
    <ul>
        <li>Speculative long positioning remains elevated in Metals, while FX displays significant short crowding. Overall unwind risk is currently low.</li>
        <li>Metals exhibits broad speculative long crowding (50% of markets crowded long, avg spec z-score 0.9836). FX is 100% spec crowded short (avg spec z-score -1.5279).</li>
        <li>Metals' broad long crowding has persisted from last week (2025-09-30), with speculative stretch intensifying. FX's short crowding also increased.</li>
    </ul>

    <p><strong>Technical Summary:</strong></p>
    <ul>
        <li>Metals shows sustained speculative long crowding, with its average speculative Z-score nearing +1 standard deviation, indicating elevated long-side stretch.</li>
        <li>FX exhibits strong speculative short crowding, reflected by an average speculative Z-score of -1.5279, suggesting a significant bearish directional bias.</li>
        <li>No sector currently indicates broad unwind risk, suggesting recent flows have not significantly challenged extreme positions.</li>
    </ul>

    <p><strong>References:</strong></p>
    <ul>
        <li>df_sector_positioning_latest (Report_Date: 2025-10-07), showing `spec_crowded_long_share`, `spec_crowded_short_share`, `avg_spec_zscore`, and `broad_spec_crowding`.</li>
        <li>Access to `Flow_4w` data per market would enable deeper analysis of current unwind risk drivers.</li>
        <li>Historical data on broad sector flags would allow for comprehensive trend analysis and flag persistence assessment.</li>
    </ul>
</div></div>
</section>

<section class="section">
  <h2 class="section-title">Sector Positioning Chart</h2>
  <div class="box chart-box">
    <img src="images/CoT_Sector_Positioning_Stacked.png" alt="Signal chart" class="chart-img" />
    <p class="chart-caption">Net speculative positioning by sector vs 5-year history.</p>
  </div>
</section>

<section class="section">
  <details class="box">
    <summary class="expand-summary">
      <span>Cross-Sector Positioning Table</span>
      <span class="chevron">‚ñ∏</span>
    </summary>
    <div class="expand-inner table-inner">
      
        
        <style>
        #df_container_2445580031984 {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background-color: #ffffff;
            color: #212529;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        #df_container_2445580031984 .df-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #dee2e6;
        }

        #df_container_2445580031984 .df-title {
            font-size: 24px;
            font-weight: 600;
            color: #212529;
            margin: 0;
        }

        #df_container_2445580031984 .df-info {
            font-size: 14px;
            color: #6c757d;
            margin: 5px 0;
        }

        #df_container_2445580031984 .df-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        #df_container_2445580031984 .df-search {
            flex: 1;
            min-width: 200px;
            padding: 8px 12px;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            background-color: #f8f9fa;
            color: #212529;
            font-size: 14px;
        }

        #df_container_2445580031984 .df-button {
            padding: 8px 16px;
            background-color: #0d6efd;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: opacity 0.2s;
        }

        #df_container_2445580031984 .df-button:hover {
            opacity: 0.85;
        }

        #df_container_2445580031984 .df-table-wrapper {
            overflow-x: auto;
            overflow-y: auto;
            max-height: 600px;
            border: 1px solid #dee2e6;
            border-radius: 4px;
        }

        #df_container_2445580031984 table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
        }

        #df_container_2445580031984 th {
            background-color: #f8f9fa;
            color: #212529;
            padding: 12px 8px;
            text-align: left;
            font-weight: 600;
            position: sticky;
            top: 0;
            cursor: pointer;
            user-select: none;
            border-bottom: 2px solid #dee2e6;
            white-space: nowrap;
        }

        #df_container_2445580031984 th:hover {
            background-color: #e9ecef;
        }

        #df_container_2445580031984 th::after {
            content: ' ‚áÖ';
            opacity: 0.3;
            font-size: 10px;
        }

        #df_container_2445580031984 td {
            padding: 10px 8px;
            border-bottom: 1px solid #dee2e6;
            color: #212529;
        }

        #df_container_2445580031984 tr:hover {
            background-color: #e9ecef;
        }

        #df_container_2445580031984 .df-footer {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #dee2e6;
            font-size: 12px;
            color: #6c757d;
            text-align: right;
        }

        #df_container_2445580031984 .df-no-data {
            text-align: center;
            padding: 40px;
            color: #6c757d;
            font-style: italic;
        }
        </style>
        
        <div id="df_container_2445580031984">
            <div class="df-header">
                <div>
                    <h2 class="df-title">Cross_Sector_Positioning</h2>
                    <div class="df-info">Rows: 15 | Columns: 12</div>
                </div>
            </div>
            <div class="df-controls"><input type="text" id="df_2445636863312_search" class="df-search" placeholder="Search table..."><button id="df_2445636863312_download" class="df-button">üì• Download CSV</button></div>
            <div class="df-table-wrapper">
                <table id="df_2445636863312_table"><thead><tr><th>Report_Date</th><th>Sector</th><th>n_markets</th><th>spec_crowded_long_share</th><th>spec_crowded_short_share</th><th>hedger_pressure_share</th><th>unwind_risk_share</th><th>avg_spec_zscore</th><th>avg_hedger_zscore</th><th>broad_spec_crowding</th><th>broad_hedger_pressure</th><th>broad_unwind_risk</th></tr></thead><tbody><tr><td>2025-09-23 00:00:00</td><td>Ags</td><td>14</td><td>0.0714</td><td>0.3571</td><td>0.0000</td><td>0.0000</td><td>-0.6339</td><td>0.4873</td><td>False</td><td>False</td><td>False</td></tr><tr><td>2025-09-23 00:00:00</td><td>Energy</td><td>28</td><td>0.3214</td><td>0.1429</td><td>0.3214</td><td>0.1429</td><td>0.3241</td><td>-0.0360</td><td>False</td><td>False</td><td>False</td></tr><tr><td>2025-09-23 00:00:00</td><td>FX</td><td>1</td><td>0.0000</td><td>1.0000</td><td>1.0000</td><td>0.0000</td><td>-1.6749</td><td>-1.7252</td><td>False</td><td>True</td><td>False</td></tr><tr><td>2025-09-23 00:00:00</td><td>Metals</td><td>8</td><td>0.2500</td><td>0.0000</td><td>0.2500</td><td>0.0000</td><td>0.5948</td><td>0.1052</td><td>False</td><td>False</td><td>False</td></tr><tr><td>2025-09-23 00:00:00</td><td>Other</td><td>218</td><td>0.2982</td><td>0.2752</td><td>0.2523</td><td>0.1330</td><td>0.0337</td><td>0.0048</td><td>False</td><td>False</td><td>False</td></tr><tr><td>2025-09-30 00:00:00</td><td>Ags</td><td>14</td><td>0.0714</td><td>0.4286</td><td>0.0000</td><td>0.0714</td><td>-0.6778</td><td>0.5343</td><td>False</td><td>False</td><td>False</td></tr><tr><td>2025-09-30 00:00:00</td><td>Energy</td><td>30</td><td>0.2333</td><td>0.1333</td><td>0.2667</td><td>0.0667</td><td>0.3213</td><td>-0.0283</td><td>False</td><td>False</td><td>False</td></tr><tr><td>2025-09-30 00:00:00</td><td>FX</td><td>3</td><td>0.0000</td><td>0.3333</td><td>0.3333</td><td>0.0000</td><td>-1.5998</td><td>-1.5326</td><td>False</td><td>False</td><td>False</td></tr><tr><td>2025-09-30 00:00:00</td><td>Metals</td><td>8</td><td>0.5000</td><td>0.0000</td><td>0.2500</td><td>0.0000</td><td>0.9172</td><td>0.0891</td><td>True</td><td>False</td><td>False</td></tr><tr><td>2025-09-30 00:00:00</td><td>Other</td><td>221</td><td>0.2941</td><td>0.2670</td><td>0.2489</td><td>0.1131</td><td>0.0224</td><td>0.0090</td><td>False</td><td>False</td><td>False</td></tr><tr><td>2025-10-07 00:00:00</td><td>Ags</td><td>14</td><td>0.0714</td><td>0.5000</td><td>0.0000</td><td>0.0714</td><td>-0.6139</td><td>0.5515</td><td>False</td><td>False</td><td>False</td></tr><tr><td>2025-10-07 00:00:00</td><td>Energy</td><td>27</td><td>0.2963</td><td>0.1852</td><td>0.3333</td><td>0.1111</td><td>0.2740</td><td>-0.1665</td><td>False</td><td>False</td><td>False</td></tr><tr><td>2025-10-07 00:00:00</td><td>FX</td><td>1</td><td>0.0000</td><td>1.0000</td><td>0.0000</td><td>0.0000</td><td>-1.5279</td><td>-0.8094</td><td>False</td><td>False</td><td>False</td></tr><tr><td>2025-10-07 00:00:00</td><td>Metals</td><td>8</td><td>0.5000</td><td>0.0000</td><td>0.2500</td><td>0.0000</td><td>0.9836</td><td>0.2406</td><td>True</td><td>False</td><td>False</td></tr><tr><td>2025-10-07 00:00:00</td><td>Other</td><td>212</td><td>0.2689</td><td>0.2642</td><td>0.2500</td><td>0.0991</td><td>0.0199</td><td>-0.0515</td><td>False</td><td>False</td><td>False</td></tr></tbody></table>
            </div>
            
        <div class="df-footer">
            <span id="df_2445636863312_row_count">Showing 15 of 15 rows</span>
        </div>
        
        </div>
        
        <script>
        (function() {
            const containerId = 'df_container_2445580031984';
            const tableId = 'df_2445636863312_table';

            // Search functionality
            const searchInput = document.getElementById('df_2445636863312_search');
            if (searchInput) {
                searchInput.addEventListener('input', function() {
                    const filter = this.value.toLowerCase();
                    const table = document.getElementById(tableId);
                    const rows = table.getElementsByTagName('tr');

                    let visibleCount = 0;
                    for (let i = 1; i < rows.length; i++) {
                        const row = rows[i];
                        const text = row.textContent.toLowerCase();
                        if (text.includes(filter)) {
                            row.style.display = '';
                            visibleCount++;
                        } else {
                            row.style.display = 'none';
                        }
                    }

                    document.getElementById('df_2445636863312_row_count').textContent = 
                        `Showing ${visibleCount} of ${rows.length - 1} rows`;
                });
            }

            // Download CSV
            const downloadBtn = document.getElementById('df_2445636863312_download');
            if (downloadBtn) {
                downloadBtn.addEventListener('click', function() {
                    const table = document.getElementById(tableId);
                    let csv = [];
                    const rows = table.getElementsByTagName('tr');

                    for (let row of rows) {
                        if (row.style.display !== 'none') {
                            const cols = row.querySelectorAll('td, th');
                            const csvRow = Array.from(cols).map(col => 
                                '"' + col.textContent.replace(/"/g, '""') + '"'
                            ).join(',');
                            csv.push(csvRow);
                        }
                    }

                    const csvContent = 'data:text/csv;charset=utf-8,' + csv.join('\n');
                    const encodedUri = encodeURI(csvContent);
                    const link = document.createElement('a');
                    link.setAttribute('href', encodedUri);
                    link.setAttribute('download', 'Cross_Sector_Positioning.csv');
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                });
            }

            // Sortable columns
            const headers = document.querySelectorAll('#' + tableId + ' th');
            headers.forEach((header, index) => {
                header.addEventListener('click', function() {
                    const table = document.getElementById(tableId);
                    const tbody = table.tBodies[0];
                    const rows = Array.from(tbody.rows);

                    const isNumeric = rows.every(row => {
                        const cell = row.cells[index];
                        return cell && !isNaN(parseFloat(cell.textContent));
                    });

                    const direction = header.dataset.sortDir === 'asc' ? 'desc' : 'asc';

                    rows.sort((a, b) => {
                        const aVal = a.cells[index].textContent;
                        const bVal = b.cells[index].textContent;

                        if (isNumeric) {
                            return direction === 'asc' 
                                ? parseFloat(aVal) - parseFloat(bVal)
                                : parseFloat(bVal) - parseFloat(aVal);
                        } else {
                            return direction === 'asc'
                                ? aVal.localeCompare(bVal)
                                : bVal.localeCompare(aVal);
                        }
                    });

                    rows.forEach(row => tbody.appendChild(row));

                    headers.forEach(h => h.dataset.sortDir = '');
                    header.dataset.sortDir = direction;
                });
            });
        })();
        </script>
        
        
    </div>
  </details>
</section>

<section class="section">
  <details class="box">
    <summary class="expand-summary">
      <span>Methodology: Cross-Sector Positioning</span>
      <span class="chevron">‚ñ∏</span>
    </summary>
    <div class="expand-inner">
      <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sector Positioning Signal ‚Äî Methodology</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body{font-family:"Merriweather",serif}
    h1,h2,h3,h4{font-family:"Inter",sans-serif}
    .container{max-width:960px}
    .rule{height:1px;background:linear-gradient(90deg,#e5e7eb,transparent)}
    .smallcaps{font-variant-caps:all-small-caps;letter-spacing:.04em}
    @media print{nav,.screen-only{display:none!important} body{color:#000}}
    .eq{font-family:"Merriweather",serif;font-style:italic}
    .box{border:1px solid #e5e7eb;border-radius:.75rem;padding:1rem;background:#fafafa}
    code{background:#f6f8fa;padding:.15rem .35rem;border-radius:.35rem}
  </style>
</head>
<body class="bg-white text-slate-800">
  <nav class="screen-only border-b">
    <div class="container mx-auto px-5 py-3 flex items-center justify-between text-sm text-slate-600">
      <div class="smallcaps">Methodology White Paper</div>
      <div>Version 1.0</div>
    </div>
  </nav>

  <main class="container mx-auto px-5 py-10">
    <header class="mb-10">
      <h1 class="text-3xl md:text-4xl font-semibold text-slate-900">Sector Positioning Signal</h1>
      <div class="mt-2 text-slate-600 text-sm">Composite sector‚Äëlevel signal measuring speculative crowding, hedger pressure, and unwind risk across major futures sectors (Energy, Metals, Ags, FX, Rates). Derived from enriched CoT positioning.</div>
    </header>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold text-slate-900 mb-3">Abstract</h2>
      <p class="leading-7">This signal aggregates market‚Äëlevel Commitments of Traders (CoT) positioning into macro sectors. It identifies whether a sector is experiencing broad speculative crowding, systemic hedger pressure, or heightened unwind risk. Using market‚Äëlevel flags (crowded_long, crowded_short, hedger_pressure) and 4‚Äëweek flow dynamics, the model classifies sector‚Äëwide stress and positioning imbalance.</p>
    </section>

    <div class="rule mb-10"></div>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold mb-3">1. Inputs</h2>
      <ul class="list-disc pl-6 leading-7">
        <li><strong>df_cot_signals</strong> ‚Äî unified enriched CoT dataset with market‚Äëlevel signals.</li>
        <li><strong>Market classifications:</strong> Commodity_Class, Classification, Sub‚ÄëClassification, Commodity_SubClass.</li>
        <li><strong>Market flags:</strong> crowded_long, crowded_short, hedger_pressure.</li>
        <li><strong>Flow_4w:</strong> 4‚Äëweek speculative flow (directionally used to assess unwind risk).</li>
      </ul>
    </section>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold mb-3">2. Sector Classification Logic</h2>
      <p class="leading-7">Markets are mapped into macro sectors using metadata first and name‚Äëbased heuristics second. The sectors include:</p>
      <ul class="list-disc pl-6 leading-7">
        <li>Energy</li>
        <li>Metals (Precious & Base)</li>
        <li>Ags (Grains, Softs, Livestock)</li>
        <li>FX</li>
        <li>Rates</li>
        <li>Other</li>
      </ul>
      <p class="leading-7 mt-3">Classification uses string‚Äëmatching on both metadata and exchange‚Äëprovided market names when metadata is missing or inconsistent.</p>
    </section>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold mb-3">3. Preparation & Flag Construction</h2>
      <p class="leading-7">The base dataset is cleaned, sectors assigned, and missing flags defaulted to <em>False</em>. Unwind risk is defined as:</p>
      <div class="box text-sm mt-3">
        <div class="eq">UnwindRisk = (crowded_long ‚àß Flow_4w < 0) ‚à® (crowded_short ‚àß Flow_4w > 0)</div>
      </div>
      <p class="leading-7 mt-3">This captures conditions where positioning is both extreme and moving against traders, signalling elevated squeeze or unwind probability.</p>
    </section>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold mb-3">4. Sector Aggregation</h2>
      <p class="leading-7">For each sector and report date, the following aggregates are computed:</p>
      <ul class="list-disc pl-6 leading-7">
        <li><strong>n_markets:</strong> number of unique markets.</li>
        <li><strong>spec_crowded_long_share:</strong> share of markets flagged crowded long.</li>
        <li><strong>spec_crowded_short_share:</strong> share of markets flagged crowded short.</li>
        <li><strong>hedger_pressure_share:</strong> share of markets with hedger pressure.</li>
        <li><strong>unwind_risk_share:</strong> share of markets with unwind risk.</li>
        <li><strong>avg_spec_zscore:</strong> mean speculative z‚Äëscore across markets.</li>
        <li><strong>avg_hedger_zscore:</strong> mean hedger z‚Äëscore across markets.</li>
      </ul>
    </section>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold mb-3">5. Broad Macro Flags</h2>
      <p class="leading-7">Sector‚Äëwide stress conditions are triggered using static thresholds:</p>
      <div class="box text-sm mt-3">
        <ul class="list-disc pl-6">
          <li><span class="eq">broad_spec_crowding</span>: spec_crowded_long_share ‚â• 0.40</li>
          <li><span class="eq">broad_hedger_pressure</span>: hedger_pressure_share ‚â• 0.40</li>
          <li><span class="eq">broad_unwind_risk</span>: unwind_risk_share ‚â• 0.30</li>
        </ul>
      </div>
      <p class="leading-7 mt-3">These thresholds identify when positioning stress is not isolated but systemic within a sector.</p>
    </section>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold mb-3">6. Latest Snapshot</h2>
      <p class="leading-7">The most recent reporting date is extracted, and sector aggregates for that date form the latest positioning table.</p>
    </section>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold mb-3">7. Implementation (Python)</h2>
      <div class="box text-sm">
<pre><code>df_sector = df_cot_signals.copy()
df_sector["Report_Date"] = pd.to_datetime(df_sector["Report_Date"], errors="coerce")

# Classification and flags
df_sector["Sector"] = df_sector.apply(_classify_sector, axis=1)
flow = pd.to_numeric(df_sector.get("Flow_4w", np.nan), errors="coerce")
df_sector["unwind_risk"] = (
    (df_sector["crowded_long"] & (flow < 0)) |
    (df_sector["crowded_short"] & (flow > 0))
)

# Aggregation
group_cols = ["Report_Date", "Sector"]
df_sector_positioning = (
    df_sector.groupby(group_cols).agg(
        n_markets=("Market_and_Exchange_Names", "nunique"),
        spec_crowded_long_share=("crowded_long", "mean"),
        spec_crowded_short_share=("crowded_short", "mean"),
        hedger_pressure_share=("hedger_pressure", "mean"),
        unwind_risk_share=("unwind_risk", "mean"),
        avg_spec_zscore=("Spec_zscore", "mean"),
        avg_hedger_zscore=("Hedger_zscore", "mean")
    ).reset_index()
)

# Threshold flags
BLS, BH, BU = 0.40, 0.40, 0.30
df_sector_positioning["broad_spec_crowding"] = df_sector_positioning["spec_crowded_long_share"] >= BLS
df_sector_positioning["broad_hedger_pressure"] = df_sector_positioning["hedger_pressure_share"] >= BH
df_sector_positioning["broad_unwind_risk"] = df_sector_positioning["unwind_risk_share"] >= BU

# Latest snapshot
latest_date = df_sector_positioning["Report_Date"].max()
df_sector_positioning_latest = df_sector_positioning[


    </code></pre>
    </div>
    </section>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold mb-3">8. Interpretation</h2>
      <ul class="list-disc pl-6 leading-7">
        <li><strong>Broad Spec Crowding:</strong> reveals directional consensus that can reverse sharply when flows shift.</li>
        <li><strong>Hedger Pressure:</strong> highlights defensive commercial positioning, often preceding volatility.</li>
        <li><strong>Unwind Risk:</strong> identifies when stretched positioning meets adverse flow, increasing squeeze probability.</li>
      </ul>
    </section>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold mb-3">9. Limitations</h2>
      <ul class="list-disc pl-6 leading-7">
        <li>Sector mapping depends on exchange naming conventions, which may contain inconsistencies.</li>
        <li>Static thresholds may require periodic recalibration to reflect structural regime changes.</li>
        <li>Flow metrics can be noisy for low-liquidity contracts, reducing signal reliability.</li>
      </ul>
    </section>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold mb-3">10. Practical Use Cases</h2>
      <ul class="list-disc pl-6 leading-7">
        <li>Detect sectors at risk of rapid position unwinds or squeezes.</li>
        <li>Monitor systemic crowding across futures markets to inform macro-level risk management.</li>
        <li>Combine with trend, volatility, or macro composites for tactical allocation timing.</li>
      </ul>
    </section>

  </main>
</body>
</html>
    </div>
  </details>
</section>
</main>
</body>
</html>
