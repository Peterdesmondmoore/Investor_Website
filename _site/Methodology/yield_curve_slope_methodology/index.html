<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Yield Curve Slope — Methodology</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body{font-family:"Merriweather",serif}
    h1,h2,h3,h4{font-family:"Inter",sans-serif}
    .container{max-width:960px}
    .rule{height:1px;background:linear-gradient(90deg,#e5e7eb,transparent)}
    .smallcaps{font-variant-caps:all-small-caps;letter-spacing:.04em}
    @media print{nav,.screen-only{display:none!important} body{color:#000}}
    .eq{font-family:"Merriweather",serif;font-style:italic}
    .box{border:1px solid #e5e7eb;border-radius:.75rem;padding:1rem;background:#fafafa}
    code{background:#f6f8fa;padding:.15rem .35rem;border-radius:.35rem}
  </style>
</head>
<body class="bg-white text-slate-800">
  <nav class="screen-only border-b">
    <div class="container mx-auto px-5 py-3 flex items-center justify-between text-sm text-slate-600">
      <div class="smallcaps">Methodology White Paper</div>
      <div>Version 1.0</div>
    </div>
  </nav>

  <main class="container mx-auto px-5 py-10">
    <header class="mb-10">
      <h1 class="text-3xl md:text-4xl font-semibold text-slate-900">Yield Curve Slope</h1>
      <div class="mt-2 text-slate-600 text-sm">Composite signal measuring the structural shape of the U.S. Treasury curve using 10Y–2Y and 10Y–3M spreads. Captures cyclical steepening and inversion phases that reflect monetary stance and growth expectations.</div>
    </header>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold text-slate-900 mb-3">Abstract</h2>
      <p class="leading-7">The yield curve slope signal evaluates macro‑financial regimes via the shape of the Treasury term structure. Two primary spreads are used: <span class="eq">T10Y2Y</span> (10‑year minus 2‑year yield) and <span class="eq">T10Y3M</span> (10‑year minus 3‑month yield). Each is normalised using a robust rolling z‑score, then averaged to form a composite slope index. Thresholds of ±0.75 classify curve phases as <em>Steepening</em>, <em>Flat/Neutral</em>, or <em>Inverted</em>.</p>
    </section>

    <div class="rule mb-10"></div>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold mb-3">1. Data</h2>
      <ul class="list-disc pl-6 leading-7">
        <li><strong>T10Y2Y</strong> — 10‑Year Treasury Constant Maturity minus 2‑Year Treasury Constant Maturity (FRED).</li>
        <li><strong>T10Y3M</strong> — 10‑Year Treasury Constant Maturity minus 3‑Month Treasury Bill (FRED).</li>
      </ul>
      <p class="leading-7 mt-3">Both inputs are daily series from FRED, resampled to month‑end for consistency with other macro composites.</p>
    </section>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold mb-3">2. Normalisation</h2>
      <div class="box text-sm">
        <div class="eq">z\_{rob}(X)_t = \dfrac{X_t − \mathrm{median}(X)_{t, w}}{1.4826 · \mathrm{MAD}(X)_{t, w}}</div>
        <div class="text-xs mt-2">where <span class="eq">w = 60</span> months (minimum 24). The constant 1.4826 scales the median absolute deviation to σ under normality, providing resilience to outliers and structural breaks.</div>
      </div>
    </section>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold mb-3">3. Composite Construction</h2>
      <ol class="list-decimal pl-6 leading-7">
        <li><strong>Compute z‑scores:</strong> derive <span class="eq">Z\_{10Y2Y}</span> and <span class="eq">Z\_{10Y3M}</span> via robust rolling method.</li>
        <li><strong>Blend:</strong> arithmetic mean to reduce idiosyncratic noise:
          <div class="box text-sm mt-2">
            <div class="eq">YC\_{Composite,t} = \frac{Z\_{10Y2Y,t} + Z\_{10Y3M,t}}{2}</div>
          </div>
        </li>
      </ol>
    </section>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold mb-3">4. Regime Classification</h2>
      <div class="box text-sm">
        <div class="eq">\text{If } C_t > 0.75 → \textit{Steepening};\quad |C_t| ≤ 0.75 → \textit{Flat/Neutral};\quad C_t < −0.75 → \textit{Inverted}</div>
      </div>
      <p class="leading-7 mt-3">A steepening curve typically coincides with early‑cycle reflation or easing expectations; inversion indicates restrictive policy and forward‑growth stress.</p>
    </section>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold mb-3">5. Implementation (Python)</h2>
      <div class="box text-sm">
<pre><code>import pandas as pd
import numpy as np

def robust_z(s, win=60, min_win=24):
    x = pd.to_numeric(s, errors="coerce").astype(float)
    w = max(min_win, min(win, x.dropna().size))
    med = x.rolling(w, min_periods=min_win).median()
    mad = (x - med).abs().rolling(w, min_periods=min_win).median()
    return (x - med) / (1.4826 * mad.replace(0, np.nan))

df_sig_yc = df_yield_curve.copy()
df_sig_yc["Z_T10Y2Y"] = robust_z(df_sig_yc["T10Y2Y"])
df_sig_yc["Z_T10Y3M"] = robust_z(df_sig_yc["T10Y3M"])
df_sig_yc["YC_Composite"] = df_sig_yc[["Z_T10Y2Y", "Z_T10Y3M"]].mean(axis=1)

hi, lo = 0.75, -0.75

def _regime(v):
    if pd.isna(v): return np.nan
    return "Steepening" if v > hi else ("Inverted" if v < lo else "Flat/Neutral")

df_sig_yc["YC_Regime"] = df_sig_yc["YC_Composite"].apply(_regime)

display(df_sig_yc.tail())
</code></pre>
      </div>
    </section>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold mb-3">6. Interpretation</h2>
      <ul class="list-disc pl-6 leading-7">
        <li><strong>Steepening:</strong> policy easing, improving risk sentiment, or recovery expectations.</li>
        <li><strong>Flat/Neutral:</strong> late‑cycle balance between growth and inflation pressures.</li>
        <li><strong>Inverted:</strong> contractionary policy stance; historically precedes recessions by 6–18 months.</li>
      </ul>
    </section>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold mb-3">7. Limitations</h2>
      <ul class="list-disc pl-6 leading-7">
        <li>Structural distortions (QE, RRP balances) can flatten curves without classic cycle signals.</li>
        <li>Short‑term volatility may reflect liquidity or issuance factors rather than macro regime change.</li>
        <li>Thresholds ±0.75 are static; dynamic optimisation could improve predictive accuracy.</li>
      </ul>
    </section>

    <footer class="text-sm text-slate-500 border-t pt-6">© 2025. Methodology reference for the Yield Curve Slope signal.</footer>
  </main>
</body>
</html>
