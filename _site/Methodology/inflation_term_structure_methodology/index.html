<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Inflation Term‑Structure — Methodology</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body{font-family:"Merriweather",serif}
    h1,h2,h3,h4{font-family:"Inter",sans-serif}
    .container{max-width:960px}
    .rule{height:1px;background:linear-gradient(90deg,#e5e7eb,transparent)}
    .smallcaps{font-variant-caps:all-small-caps;letter-spacing:.04em}
    @media print{nav,.screen-only{display:none!important} body{color:#000}}
    .eq{font-family:"Merriweather",serif;font-style:italic}
    .box{border:1px solid #e5e7eb;border-radius:.75rem;padding:1rem;background:#fafafa}
    code{background:#f6f8fa;padding:.15rem .35rem;border-radius:.35rem}
  </style>
</head>
<body class="bg-white text-slate-800">
  <nav class="screen-only border-b">
    <div class="container mx-auto px-5 py-3 flex items-center justify-between text-sm text-slate-600">
      <div class="smallcaps">Methodology White Paper</div>
      <div>Version 1.0</div>
    </div>
  </nav>

  <main class="container mx-auto px-5 py-10">
    <header class="mb-10">
      <h1 class="text-3xl md:text-4xl font-semibold text-slate-900">Inflation Term‑Structure</h1>
      <div class="mt-2 text-slate-600 text-sm">Specification for a composite signal blending 5‑year and 10‑year breakeven inflation with the real 10‑year TIPS yield to classify <em>Reflation</em>, <em>Neutral</em>, or <em>Disinflation</em> regimes.</div>
    </header>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold text-slate-900 mb-3">Abstract</h2>
      <p class="leading-7">This note defines an inflation term‑structure signal using the breakeven curve slope and real yields. Inputs are the 5‑year breakeven (<code>T5YIE</code>), 10‑year breakeven (<code>T10YIE</code>), and the 10‑year TIPS yield (<code>DFII10</code>). Series are month‑end aligned. A robust z‑score standardisation (rolling median/MAD) is applied to each input, and a weighted blend (<span class="eq">0.4 · z(T5YIE) + 0.3 · z(T10YIE) + 0.3 · z(−DFII10)</span>) forms a continuous composite. The composite is discretised into regimes using fixed cut‑offs ±0.75.</p>
    </section>

    <div class="rule mb-10"></div>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold mb-3">1. Data</h2>
      <ul class="list-disc pl-6 leading-7">
        <li><strong>T5YIE</strong> — 5‑Year Breakeven Inflation Rate (FRED, daily; market‑implied CPI over 5y).</li>
        <li><strong>T10YIE</strong> — 10‑Year Breakeven Inflation Rate (FRED, daily; market‑implied CPI over 10y).</li>
        <li><strong>DFII10</strong> — 10‑Year Treasury Inflation‑Indexed Security, Constant Maturity (real yield, FRED, daily).</li>
      </ul>
      <p class="leading-7 mt-3">All inputs are resampled to month‑end and trimmed to a rolling history as required by the rolling window used in the robust z‑score (default <span class="eq">win = 60</span> months, <span class="eq">min\_win = 24</span> months).</p>
    </section>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold mb-3">2. Alignment & Transformations</h2>
      <ol class="list-decimal pl-6 leading-7">
        <li><strong>Month‑end alignment:</strong> resample each series to month‑end and select the last observation.</li>
        <li><strong>Term spread:</strong> compute the slope of the breakeven curve
          <div class="box mt-2 text-sm">
            <div class="eq">\text{Term\_Spread}_t = T10YIE_t − T5YIE_t</div>
          </div>
          (The spread can be charted but is not directly used in the composite below.)
        </li>
        <li><strong>Robust standardisation:</strong> for any series <span class="eq">X</span>,
          <div class="box mt-2 text-sm">
            <div class="eq">z\_{rob}(X)_t = \dfrac{X_t − \mathrm{median}(X)_{t, w}}{1.4826 · \mathrm{MAD}(X)_{t, w}}</div>
            <div class="text-xs mt-2">with a rolling window <span class="eq">w</span> of up to 60 months (min 24). The 1.4826 factor scales MAD to σ under normality.</div>
          </div>
        </li>
      </ol>
    </section>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold mb-3">3. Composite Construction</h2>
      <ol class="list-decimal pl-6 leading-7">
        <li><strong>Inputs:</strong> <span class="eq">Z\_{T5} = z\_{rob}(T5YIE)</span>, <span class="eq">Z\_{T10} = z\_{rob}(T10YIE)</span>, <span class="eq">Z\_{mReal} = z\_{rob}(−DFII10)</span> (lower real yields imply easier financial conditions, hence the sign inversion).</li>
        <li><strong>Weighted blend:</strong>
          <div class="box mt-2 text-sm">
            <div class="eq">\text{Infl\_Term\_Composite}_t = 0.4·Z\_{T5,t} + 0.3·Z\_{T10,t} + 0.3·Z\_{mReal,t}</div>
          </div>
        </li>
      </ol>
    </section>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold mb-3">4. Regime Mapping</h2>
      <p class="leading-7">Map the composite into discrete regimes using fixed thresholds:</p>
      <div class="box text-sm">
        <div class="eq">\text{If } C_t \ge 0.75 \Rightarrow \textit{Reflation};\quad |C_t| &lt; 0.75 \Rightarrow \textit{Neutral};\quad C_t \le -0.75 \Rightarrow \textit{Disinflation}</div>
      </div>
    </section>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold mb-3">5. Implementation Notes (Python)</h2>
      <div class="box text-sm">
<pre><code>import pandas as pd
import numpy as np

# ---- Robust z-score ----
def robust_z(s, win=60, min_win=24):
    x = pd.to_numeric(s, errors="coerce").astype(float)
    w = max(min_win, min(win, x.dropna().size))
    med = x.rolling(w, min_periods=min_win).median()
    mad = (x - med).abs().rolling(w, min_periods=min_win).median()
    return (x - med) / (1.4826 * mad.replace(0, np.nan))

# Assume df_infl_term with columns [Date, T5YIE, T10YIE, DFII10]
d = df_infl_term.copy()
d["Term_Spread"] = d["T10YIE"] - d["T5YIE"]

d["Z_T5"]    = robust_z(d["T5YIE"])      # 5y breakeven

d["Z_T10"]   = robust_z(d["T10YIE"])     # 10y breakeven

d["Z_mReal"] = robust_z(-d["DFII10"])    # inverted real yield

d["Infl_Term_Composite"] = 0.4*d["Z_T5"] + 0.3*d["Z_T10"] + 0.3*d["Z_mReal"]

# Discretise
hi, lo = 0.75, -0.75

def _regime(v):
    if pd.isna(v):
        return np.nan
    return "Reflation" if v > hi else ("Disinflation" if v < lo else "Neutral")

d["Infl_Term_Regime"] = d["Infl_Term_Composite"].apply(_regime)

df_sig_infl_term = d
</code></pre>
      </div>
      <p class="text-sm text-slate-600 mt-2">Drop‑in compatible with existing pipelines: use <code>df_sig_infl_term</code> downstream for charts and dashboards.</p>
    </section>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold mb-3">6. Assumptions & Limitations</h2>
      <ul class="list-disc pl-6 leading-7">
        <li>Breakevens reflect inflation expectations plus liquidity/risk premia; structural shifts (QE/QT, balance‑sheet policy) can alter level and volatility.</li>
        <li>DFII10 availability gaps and revisions can affect recent z‑scores; robust scaling mitigates but does not eliminate this.</li>
        <li>Fixed weights (0.4/0.3/0.3) are heuristic; alternative weights may be tuned via cross‑validation for a target asset (e.g., breakeven curve, commodities, value vs growth).</li>
        <li>Monthly resampling smooths high‑frequency dynamics; use weekly views when trading shorter horizons.</li>
      </ul>
    </section>

    <section class="mb-10">
      <h2 class="text-2xl font-semibold mb-3">7. Reproducibility</h2>
      <ul class="list-disc pl-6 leading-7">
        <li>Persist source IDs (<code>T5YIE</code>, <code>T10YIE</code>, <code>DFII10</code>), download timestamps, and code commit hash.</li>
        <li>Record window parameters (<code>win</code>, <code>min_win</code>) and regime thresholds (±0.75).</li>
        <li>Archive the final panel with <code>Infl_Term_Composite</code> and <code>Infl_Term_Regime</code> columns for auditability.</li>
      </ul>
    </section>

    <section class="mb-16">
      <h2 class="text-2xl font-semibold mb-3">8. Applications</h2>
      <p class="leading-7">Useful as a conditioning variable for macro factor models, inflation‑sensitive tilts (commodities, breakevens, value/growth), and as a cross‑check against price‑based risk indicators (e.g., real‑yield shocks). Naturally pairs with liquidity and activity signals for broader regime classification.</p>
    </section>

    <footer class="text-sm text-slate-500 border-t pt-6">© 2025. Print‑friendly academic specification for the Inflation Term‑Structure signal.</footer>
  </main>
</body>
</html>
